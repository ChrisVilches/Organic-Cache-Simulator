<html>
	<head>
		<script type="text/javascript" src="js/jquery.js"></script>
		<script type="text/javascript" src="js/main.js"></script>
		<link rel="stylesheet" href="style.css" type="text/css"/>
		<link rel="icon" type="image/png" href="favicon.png" />
		<meta charset="utf-8" />
	</head>
	<body>
		
		<div class="header"><span class="orga">ORGA</span>nic cache simulator</div>
		<div class="contenedor">
			Simulador de memoria cache. 
			<a href="https://github.com/FeloVilches/Organic-Cache-Simulator" target="_blank">github</a>
		</div>
		
		<!-- Configuracion -->
		<div class="contenedor">
			<table>
				<tr>
					<td>Tamaño de bloque (palabras)</td>
					<td><input type="text" value="" id="config_blocksize" onblur="validarConfiguracion();"/></td>
				</tr>
				<tr>
					<td>Cantidad de bloques</td>
					<td><input type="text" value="" id="config_nblocks" onblur="validarConfiguracion();"/></td>
				</tr>
				<tr>
					<td>Numero de vias (n-asociativo)</td>
					<td><input type="text" value="" id="config_nvias" onblur="validarConfiguracion();"/></td>
				</tr>
				<tr>
					<td>Cantidad de sets</td>
					<td id="info_nsets"></td>
				</tr>
				<tr>
					<td>Tamaño cache</td>
					<td id="info_cachesize"></td>
				</tr>
				<tr>
					<td>Direccionamiento</td>
					<td>
						<select onchange="validarConfiguracion();" id="config_addressing">
							<option value="w">WORD</option>
							<option value="b">BYTE</option>
						</select>	
					</td>
				</tr>
				<tr>
					<td>Algoritmo de reemplazo</td>
					<td>
						<select onchange="validarConfiguracion();" id="config_algoritmo">
							<option value="lru">LRU</option>
							<option value="mru">MRU</option>
							<option value="random">RANDOM</option>
						</select>
					</td>
				</tr>
				<tr>
					<td>Asociatividad</td>
					<td>
						<select onchange="validarConfiguracion();" id="config_tipoasociatividad">
							<option value="md">Mapeo directo</option>
							<option value="sa">Set asociativo</option>
							<option value="fa">Full asociativo</option>
						</select>	
					</td>
				</tr>
			</table>
		</div>			
		
		<div class="contenedor">			
			<p>Ingresar direcciones en base decimal (ej: 6,34,10,23,100,...)</p>
			
			<!-- Ingresar direcciones -->
			<textarea id="textarea_direcciones" class="direcciones"></textarea>
			
			<!-- Procesar direcciones -->
			<button id="btn_procesar" class="procesar">OK</button>			
		
			<!-- Errores -->
			<span id="span_error"></span>
			
		</div>
		
		<div class="contenedor" style="display:none" id="todosResultados">
			
			<!-- Cuenta de hit y miss -->
			<div id="hitMissRate">
			</div>
	
			<!-- La tabla de resultados -->
			<div id="tablaCacheResultado">			
			</div>
			
			<!-- Codigo transpilado -->
			<p>El siguiente codigo MIPS contiene accesos a memoria equivalentes, y arroja los mismos resultados en Mars si se configura el cache de la misma manera (precaucion: algunas direcciones podrian estar fuera de rango y abortar ejecucion en MIPS antes de que se complete el programa.)</p>
			<textarea id="textarea_codigomars" onclick="this.select()"></textarea>
		</div>
		
		
	</body>
</html>